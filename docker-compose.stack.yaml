version: "3.9"

services:
  scoreboard:
    image: ghcr.io/bvision-software/scoreboard:latest
    container_name: scoreboard
    network_mode: host
    restart: always

    environment:
      CONFIG_FILE: prod
      DISPLAY: ${DISPLAY}
      XAUTHORITY: /root/.Xauthority
      QT_X11_NO_MITSHM: "1"
      QT_QPA_PLATFORM: xcb

    volumes:
      - /tmp/.X11-unix:/tmp/.X11-unix:rw
      - ${HOME}/.Xauthority:/root/.Xauthority:ro
      - ./data:/app/data
      - ./logs:/app/logs

    devices:
      - /dev/input